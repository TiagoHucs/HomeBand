<meta charset="utf-8" />
<script>

</script>
<h3>
<div ng-show="isEditando"><input class="form-control" type="text" ng-model="novoPerfil.nome"/></div>
<div ng-show="!isEditando">{{perfil.nome}}</div>
</h3>
  <div ng-if="msg.codigo==0" class="alert alert-success alert-dismissible">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>Successo!</strong> {{msg.mensagem}}
  </div>
  <div ng-if="msg.codigo==1" class="alert alert-danger alert-dismissible">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>Erro!</strong> {{msg.mensagem}}
  </div>
<div ng-if="!isEditando">
	<a ng-if="!isEditando"  ng-click="habilitarEdicao()">Editar perfil</a> | 
	<a ng-if="!isEditando" data-toggle="modal" data-target="#modalAlteraSenha">Alterar senha</a>
</div>
<div ng-if="isEditando">
	<a ng-click="descartarEdicao()">Descartar alterações</a> | 
	<a ng-click="salvarEdicao()">Salvar perfil</a>
</div>

<hr>
<div class="row">
	<div class="col-sm-3">
		<div ng-show="isEditando">
			<img alt="foto" id="fotoPerfil" src="{{perfil.foto}}" style="width:150px"/>
			<input class="fileinput-filename" type="file" id="file" onchange="javascript:visualizarImg();"/>
		</div>
		<div ng-show="!isEditando">	
			<img class="card" alt="Carregando..." src="{{perfil.foto}}" style="width:150px"/>
		</div>
	</div>
	<div class="col-sm-9">
		<div ng-show="isEditando">
			<p><b>Localidade:</b> <input class="form-control" type="text" placeholder="{{perfil.localidade}}" ng-model="novoPerfil.localidade"/></p>
			<p><b>Instrumento:</b> <input class="form-control" type="text" placeholder="{{perfil.instrumento}}" ng-model="novoPerfil.instrumento"/></p>
		</div>
		<div ng-show="!isEditando">
			<p><b>Localidade:</b> {{perfil.localidade}}</p>
			<p><b>Instrumento:</b> {{perfil.instrumento}}</p>
		</div>
	</div>
</div>

 <!-- Modal senha -->
  <div class="modal fade" id="modalAlteraSenha" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">

        <div class="modal-body">
			<p><b>Senha anterior:</b> <input class="form-control" type="password" placeholder="Digite a sua senha anterior" ng-model="senhaAnterior"/></p>
			<p><b>Nova senha:</b> <input class="form-control" type="password" placeholder="Digite a sua nova senha" ng-model="novaSenha1"/></p>
			<p><b>Confirma nova senha:</b> <input class="form-control" type="password" placeholder="Confirme a sua senha" ng-model="novaSenha2"/></p>
			<button class="btn btn-success" ng-click="trocarSenha();" data-dismiss="modal">Salvar senha</button>
			<button class="btn btn-danger" data-dismiss="modal">Cancelar</button>
		</div>

      </div>
      
    </div>
  </div>
